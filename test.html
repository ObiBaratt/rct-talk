<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Slide Toggle Example</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            font-family: Arial, sans-serif;
        }
        #slider {
            background-color: white;
            padding: 20px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            box-sizing: border-box;
        }
    </style>
</head>
<body>
    <button id="st-button">Toggle Slider</button>

    <div id="slider" class="_slideHiddenAutogeneratedClass">
        <p>Python's versatility makes it a popular choice for tasks like data analysis, web development, and even
            machine learning algorithms that help identify animal species in photos.
            JavaScript's ability to manipulate the Document Object Model (DOM) is essential for creating interactive
            web pages, such as those featuring animations of animals.
            C++'s performance and efficiency make it suitable for developing complex simulations, like those used to
            study animal behavior and ecosystems.</p>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et
            dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip
            ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu
            fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia
            deserunt mollit anim id est laborum.</p>
    </div>

    <script>
    /**
     * Toggle the visibility of an element with a slide-in/out animation.
     *
     * @param {Element} element The element to animate.
     * @param {Object} [options] Configuration options.
     * @param {string} [options.direction="right"] Slide direction. Can be "left", "right", "top", or "bottom".
     * @param {number} [options.duration=300] Animation duration in milliseconds.
     * @param {boolean} [options.dim=true] Whether to dim the background while the element is visible.
     * @param {string} [options.width="30%"] Width of the element when visible.
     * @param {string} [options.height="100%"] Height of the element when visible.
     */
    function slideToggle(element, options = {}) {
      const defaults = {
        direction: "right",
        duration: 300,
        dim: true,
        width: "30%",
        height: "100%",
      };
      const settings = { ...defaults, ...options };
      const isVisible = !element.classList.contains("_slideHiddenAutogeneratedClass");
      const directionAxis = ["left", "right"].includes(settings.direction) ? "X" : "Y";
      const sign = ["left", "top"].includes(settings.direction) ? "-" : "";

      // Set initial styles
      element.style.transition = `transform ${settings.duration}ms ease-in-out`;
      element.style.position = "fixed";
      element.style.top = "0";
      element.style[settings.direction] = "0";
      element.style.width = settings.width;
      element.style.height = settings.height;
      element.style.zIndex = "1000";

      if (isVisible) {
        // Slide out
        element.style.transform = `translate${directionAxis}(${sign}100%)`;
        setTimeout(() => {
          element.classList.add("_slideHiddenAutogeneratedClass");
          element.style.display = "none";
          element.style.transform = "";
        }, settings.duration);
        if (settings.dim) {
          removeDimOverlay();
        }
      } else {
        // Prepare for slide in
        element.classList.remove("_slideHiddenAutogeneratedClass");
        element.style.display = "block";
        element.style.transform = `translate${directionAxis}(${sign}100%)`;
        
        // Force reflow
        element.offsetHeight;
        
        // Slide in
        requestAnimationFrame(() => {
          element.style.transform = "translate(0, 0)";
        });
        
        if (settings.dim) {
          addDimOverlay(element);
        }
      }
    }

    function addDimOverlay(element) {
      const overlay = document.createElement("div");
      overlay.className = "_dimOverlayAutogeneratedClass";
      document.body.appendChild(overlay);
      document.body.classList.add("_overlayedAutogeneratedClass");
      overlay.addEventListener("click", () => {
        slideToggle(element);
      });
    }

    function removeDimOverlay() {
      const overlay = document.querySelector("._dimOverlayAutogeneratedClass");
      if (overlay) {
        overlay.remove();
        document.body.classList.remove("_overlayedAutogeneratedClass");
      }
    }

    // CSS for the overlay and slider
    const style = document.createElement("style");
    style.textContent = `
        ._slideHiddenAutogeneratedClass { display: none; }
        ._dimOverlayAutogeneratedClass {
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background-color: rgba(0, 0, 0, 0.5);
          z-index: 999;
        }
        ._overlayedAutogeneratedClass { overflow: hidden; }
      `;
    document.head.appendChild(style);

    // Event listener for the button
    const button = document.getElementById("st-button");
    const slider = document.getElementById("slider");
    button.addEventListener("click", () => {
      slideToggle(slider);
    });
    </script>
</body>
</html>